# --------------
# CMake file AFFDEX-SDK-NET
# --------------

CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

set(subProject AffdexMe)

PROJECT(${subProject})

#file(GLOB SRCS src/*.c*)
#file(GLOB HDRS include/*.h*)
FILE(TO_NATIVE_PATH "${CMAKE_CURRENT_SOURCE_DIR}" DOS_STYLE_SOURCE_DIR)
CONFIGURE_FILE(${subProject}.csproj.template ${subProject}.csproj)
CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DIR}/Properties/Resources.resx.template Properties/Resources.resx)
file( RELATIVE_PATH PROJECT_SUBDIR ${CMAKE_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR} )
include_external_msproject(
    ${subProject} ${PROJECT_SUBDIR}/${subProject}.csproj
    TYPE 510690A2-DFD6-49AE-BB72-397D9CE8DC41 ${AFFDEX_DOTNET_SDK_PROJECT_NAME})

add_dependencies(${subProject} ${AFFDEX_DOTNET_SDK_PROJECT_NAME})

SET (RELEASE_OUTPUT_PATH "${EXECUTABLE_OUTPUT_PATH}/Release/${subProject}.exe")
install(FILES ${RELEASE_OUTPUT_PATH} DESTINATION ${RUNTIME_INSTALL_DIRECTORY})